<!doctype html><html prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>AWS EC2 Spot Market Volatility &#183; Joseph Lust</title><meta name=description content="The spot instance market does not often make sense. You first learn of it and think “Wow! Why did I waste that money on a reserved instance when I can get the same price on demand?!?!?!” Then you see pricing curves like this:
$6/hr for an instance!? 5000% markup! That is stultifying. This m1.medium is a perfectly fungible resource. You can:
Pay on-demand rate of $0.12/hr Reserve it for 3 years and pay a combined rate (amortizing down payment) of $0."><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index,follow"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="AWS EC2 Spot Market Volatility"><meta property="og:description" content="The spot instance market does not often make sense. You first learn of it and think “Wow! Why did I waste that money on a reserved instance when I can get the same price on demand?!?!?!” Then you see pricing curves like this:
$6/hr for an instance!? 5000% markup! That is stultifying. This m1.medium is a perfectly fungible resource. You can:
Pay on-demand rate of $0.12/hr Reserve it for 3 years and pay a combined rate (amortizing down payment) of $0."><meta property="og:type" content="article"><meta property="og:url" content="https://lust.dev/2013/11/16/aws-ec2-spot-market-volatility/"><link rel=stylesheet href=https://lust.dev/dist/site.css><link rel=stylesheet href=https://lust.dev/dist/syntax.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous></head><body><script type=application/javascript>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-17498476-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script><div id=wrapper><header class=site-header><div class=container><div class=site-title-wrapper><h1 class=site-title><a href=https://lust.dev/>lust.dev</a></h1><a class=button-square href=https://lust.dev/index.xml aria-label=RSS><i class="fa fa-rss" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint=Twitter aria-label=Twitter href=https://twitter.com/lustcoder rel=me><i class="fa fa-twitter" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint=Github aria-label=Github href=https://github.com/twistedpair rel=me><i class="fa fa-github-alt" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint="Stack Overflow" aria-label="Stack Overflow" href=https://stackoverflow.com/users/564157/joseph-lust rel=me><i class="fa fa-stack-overflow" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint=LinkedIn aria-label=LinkedIn href=https://linkedin.com/in/josephlust rel=me><i class="fa fa-linkedin" aria-hidden=true></i></a></div><ul class=site-nav><li class=site-nav-item><a href=../../../../>Blog</a></li><li class=site-nav-item><a href=../../../../tags>Tags</a></li><li class=site-nav-item><a href=../../../../about>About J. Lust</a></li></ul></div></header><div id=container><div class=container><article class=post-container itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">AWS EC2 Spot Market Volatility</h1><p class=post-date><span>Published <time datetime=2013-11-16 itemprop=datePublished>16 Nov '13</time></span>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person><span itemprop=name><a href=# itemprop=url rel=author>Joseph Lust</a></span></span></p><p class="post-reading post-line"><span>⏰ 3 min read</span></p></header><div class="post-content clearfix" itemprop=articleBody><p>The spot instance market does not often make sense. You first learn of it and think “Wow! Why did I waste that money on a reserved instance when I can get the same price on demand?!?!?!” Then you see pricing curves like this:</p><figure><img src=../../../../img/aws_price_curve.png></figure><p>$6/hr for an instance!? <strong>5000% markup!</strong> That is stultifying. This <code>m1.medium</code> is a perfectly fungible resource. You can:</p><ul><li>Pay on-demand rate of <strong>$0.12/hr</strong></li><li>Reserve it for 3 years and pay a combined rate (amortizing down payment) of <strong>$0.042/hr</strong></li><li>Rent it at the median Spot Market rate of <strong>$0.013/hr</strong></li></ul><p>$6/hr is 30% more than that most expensive instance AWS sells (<code>hs1.8xlarge</code>, $4.60/hr), and this instance is puny by comparison.</p><p>So, what gives? Are there really people that are so gormless they shovel money to Amazon? Impossible. Perhaps one foolhardy API consumer put in too high a bid, but we’re talking a <strong>$6 market clearing price</strong>. That means the <strong>entire market</strong> is going for $6. You can’t get any instance for less. Also note that the price is always going to $6 in a step function, while in a real market, with sentient traders, we’d expect to just barely outbid our competitors as anything else is waste. You don’t see people winning an auction by 5000% do you? You pay $0.01+ and call it a victory.</p><p>The only explanation is that during these hours Amazon (or someone with money to burn) is shutting down the market. They don’t want the spot pool available, perhaps for maintenance reasons or some internal load shaping. Regardless, it renders much of the market useless and highly inefficient.</p><h3 id=other-observations-8211highly-non-correlated-market-demand>Other Observations – Highly Non-Correlated Market Demand</h3><p>Markets are often correlated. If the price for beer in a 1 liter container is up, we’d expect to see a similar rise in demand for beer in the 2 liter container. However, demand for compute is oddly inconsistent across regions, zones, and instance type.</p><ul><li>Highly different demand between AZ&rsquo;s (i.e. <code>us-east-1d</code> is low, <code>us-east-1c</code> is high)</li><li>Highly different demand between instance types (<code>c3.large</code> low, <code>m1.medium</code> high)</li></ul><p>If the price for work in one AZ is much higher than another, near by AZ, we’d expect to see work migrate there. Sure, some jobs might need very high intra-AZ networking speeds, but most can (and should) be spread across AZ’s. In the 3 months of data analyzed we see notable spot price disparities between neighboring zones.</p><p>Instance demand is also illogical. For example, why is the <code>c3.large</code> instance, which is far better than a <code>m1.large</code> instance, always available for $0.032/hr? Over the last three months, there is not a spike to be seen. This makes the <strong>average clearing price for a <code>c3.large</code></strong> ($0.032/hr) <strong>97% lower</strong> <strong>than an <em>m1.medium</em></strong> ($1.26). That’s odd, given this is a compute node, of which you’d expect to see large numbers being recruited and released for brief computation cluster bursts. For your shillings, you’d likely be better with a <code>c3.large</code> than a <code>m1.medium</code>, but the market data does not indicate consumers realize this as the price for <code>c3.large</code> instances is a flatline.</p><figure><img src=../../../../img/aws_price_curve_2.png></figure><h3 id=conclusions>Conclusions</h3><p>AWS originally marketed the spot market as allowing you to run work at <em>different times</em> for more optimal pricing. But, you should also ask yourself:</p><ul><li>Do you need an on-demand instance when a spot will do?</li><li>Do you really need your spot in the same AZ or region?</li><li>Can you run your AMI on a different instance type?</li><li>Will someone manipulating the market price, pushing it beyond reasonable viability?</li></ul><p>Now if only EC2 would allow bidding across a range of instance types to run your jobs, folks could get more done with less.</p><p>P.S. These are just some observations from poking around the data a couple minutes. If you have more piercing insights, please elaborate below.</p></div><footer class="post-footer clearfix"><p class=post-tags><span>Tagged:</span>
<a href=../../../../tags/amazon-ec2/>Amazon EC2</a>,
<a href=../../../../tags/aws/>AWS</a></p><div class=share><a class=icon-twitter href="https://twitter.com/share?text=AWS%20EC2%20Spot%20Market%20Volatility&url=https%3a%2f%2flust.dev%2f2013%2f11%2f16%2faws-ec2-spot-market-volatility%2f" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' aria-label="Share on Twitter"><i class="fa fa-twitter" aria-hidden=true></i></a>
<a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flust.dev%2f2013%2f11%2f16%2faws-ec2-spot-market-volatility%2f" onclick='return window.open(this.href,"facebook-share","width=580,height=296"),!1' aria-label="Share on Facebook"><i class="fa fa-facebook" aria-hidden=true></i></a></div></footer><div class=comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//lustforge.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div></div></div><footer class=footer><div class=container><div class=site-title-wrapper><h1 class=site-title><a href=https://lust.dev/>lust.dev</a></h1><a class="button-square button-jump-top js-jump-top" href=# aria-label="Back to Top"><i class="fa fa-angle-up" aria-hidden=true></i></a></div><p class=footer-copyright><span>&copy; 2022 / Powered by <a href=https://gohugo.io/>Hugo</a></span></p><p class=footer-copyright><span><a href=https://github.com/roryg/ghostwriter>Ghostwriter theme</a> By <a href=http://jollygoodthemes.com>JollyGoodThemes</a></span>
<span>/ <a href=https://github.com/jbub/ghostwriter>Ported</a> to Hugo By <a href=https://github.com/jbub>jbub</a></span></p></div></footer><script src=https://lust.dev/js/jquery-1.11.3.min.js></script>
<script src=https://lust.dev/js/jquery.fitvids.js></script>
<script src=https://lust.dev/js/scripts.js></script></body></html>