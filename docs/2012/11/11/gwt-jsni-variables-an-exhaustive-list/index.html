<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>GWT JSNI Variables – An Exhaustive List &middot; Joseph Lust</title>
        <meta name="description" content="what Lust hath wrought">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.16-DEV" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="https://lust.dev/favicon.png">
        <link rel="stylesheet" href="https://lust.dev/css/normalize.css">
	<link rel="stylesheet" href="https://lust.dev/css/highlight/obsidian.css">
        <link rel="stylesheet" href="https://lust.dev/css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        
        

            
            <meta property="og:type"   content="article" />
            <meta property="og:url"    content="https://lust.dev/2012/11/11/gwt-jsni-variables-an-exhaustive-list/" />
            <meta property="og:title"  content="GWT JSNI Variables – An Exhaustive List" />

            <meta name="twitter:domain" value="lustforge.com" />
            <meta name="twitter:card" content="summary_large_image" />
            <meta name="twitter:title" value="GWT JSNI Variables – An Exhaustive List" />
            

            
            <meta name="twitter:url" value="https://lust.dev/2012/11/11/gwt-jsni-variables-an-exhaustive-list/"/>

            
        
        
    </head>
    <body>
        
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17498476-1', 'auto');
ga('send', 'pageview');
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="lust.dev" href="https://lust.dev/">lust.dev</a>
                            </h1>
                        
			
                        	<a class="button-square" href="https://lust.dev/index.xml"><i title="RSS Feed" class="fa fa-rss"></i></a>
			
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/lustcoder">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/twistedpair">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/564157/joseph-lust">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="LinkedIn" title="LinkedIn" href="https://www.linkedin.com/in/josephlust">
                                <i class="fa fa-linkedin"></i>
                            </a>
                        
                        
			
			<h1 class="site-title" style="margin-left:10px;">
                            <a class="site-title" data-hint="Lust" title="Meet the groundskeeper" href="https://lust.dev/about/">J. Lust &#8250;</a>
                        </h1>
                    </div>

                    <ul class="site-nav">
                        
                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container">
        <header class="post-header">
    <h1 class="post-title">GWT JSNI Variables – An Exhaustive List</h1>
    
</header>

        
<div class="post-content clearfix">

        
    
    
    <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "articleSection" : "post",
        "name" : "GWT JSNI Variables – An Exhaustive List",
        "headline" : "GWT JSNI Variables – An Exhaustive List",
        "description" : "As anyone using the Google Web Toolkit JSNI knows, there are certain reserved variables, or \x26#8220;dollar words,\x26#8221; exposed by the GWT runtime. While you may be familiar with $wnd and $doc, there are more undocumented words. See the exhaustive (as of GWT 2.5.0) list below taken from source. $wnd Reference to the root browser window GWT widgets are being rendered to. Note that when called from the iframe linker, GWT code runs in an iframe, not the root browser window, so calling window will reference the wrong window.",
        "inLanguage" : "en-US",
        "author" : "Joseph Lust",
        "creator" : "Joseph Lust",
        "accountablePerson" : "Joseph Lust",
        "copyrightHolder" : "Joseph Lust",
        "copyrightYear" : "2012",
        "datePublished" : "",
        "publisher": "LustForge.com",
        "logo": "https:\/\/lust.dev\/favicon.png",
        "url" : "https:\/\/lust.dev\/2012\/11\/11\/gwt-jsni-variables-an-exhaustive-list\/",
        "wordCount" : "397",
        "image" : ,
        "keywords" : [ "Google Web Toolkit (GWT), Java" ]
    }
    </script>
    
    


<div itemscope itemtype="http://schema.org/BlogPosting" style="display:none;">
     <meta itemprop="mainEntityOfPage" content="https://lust.dev/2012/11/11/gwt-jsni-variables-an-exhaustive-list/" />
     <meta itemprop="inLanguage" content="en-US" />
     <h1 itemprop="headline">GWT JSNI Variables – An Exhaustive List</h1>
     <meta itemprop="name" content="GWT JSNI Variables – An Exhaustive List" />
     <meta itemprop="description" content="" />
     <meta itemprop="wordCount" content="397" />
     <meta itemprop="keywords" content="Google Web Toolkit (GWT),Java" />
     
     <meta itemprop="copyrightYear" content="2012" />
    <div itemprop="copyrightHolder" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="Joseph Lust">
    </div>
    
    
    
    <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
         <img  itemprop="url" src="https://lust.dev/img/lustforge_key_default.png" alt="thumbnail">
         <meta itemprop="width" content="200" >
         <meta itemprop="height" content="200" >
    </div>
    
    <meta itemprop="datePublished" content="2012-11-11">
    <meta itemprop="dateModified" content="2012-11-11">
    <a itemprop="mainEntityOfPage" href="/ArticleLink"></a>
    <div itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="Joseph Lust">
    </div>
    <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LustForge.com">
      <a itemprop="url" href="/"> 
      <span itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"  >
      <img itemprop="image" src="https://lust.dev/favicon.png" />
      <link itemprop="url" href="https://lust.dev/favicon.png" />
      </span>
      </a>
    </div>
</div>

    

    

<p>As anyone using the <a href="https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsJSNI">Google Web Toolkit JSNI</a> knows, there are certain reserved variables, or &#8220;dollar words,&#8221; exposed by the GWT runtime. While you may be familiar with <code>$wnd</code> and <code>$doc</code>, there are more undocumented words. See the exhaustive (as of GWT <code>2.5.0</code>) list below taken from <a href="http://code.google.com/p/google-web-toolkit/source/browse/trunk/dev/core/src/com/google/gwt/dev/js/ast/JsRootScope.java?r=9287">source</a>.</p>

<h3 id="wnd:12347b800901b14948e615972c727567">$wnd</h3>

<p>Reference to the root browser window GWT widgets are being rendered to. Note that when called from the iframe linker, GWT code runs in an iframe, not the root browser window, so calling window will reference the wrong window.</p>

<h3 id="doc:12347b800901b14948e615972c727567">$doc</h3>

<p>Same as above, but referencing the document, not window. Same as <code>$wnd.document</code>.</p>

<h3 id="gwt-version:12347b800901b14948e615972c727567">$gwt_version</h3>

<p>The X.Y.Z version of GWT this code was compiled with. Because Google uses the GWT trunk in their apps, they will return <code>0.0.999</code>.</p>

<h3 id="modulename:12347b800901b14948e615972c727567">$moduleName</h3>

<p>The name of the compiled GWT module. Note, you may have assumed this was obfuscated. It’s not.</p>

<h3 id="modulebase:12347b800901b14948e615972c727567">$moduleBase</h3>

<p>The root URL for this module’s entrypoint.</p>

<h3 id="strongname:12347b800901b14948e615972c727567">$strongName</h3>

<p>The MD5 hash for this module.</p>

<h3 id="hosted:12347b800901b14948e615972c727567">$hosted</h3>

<p>Url and port of code server in hosted mode. i.e. <code>127.0.0.1:9997</code>.</p>

<h3 id="hostedhtml-version:12347b800901b14948e615972c727567">$hostedHtml Version</h3>

<p>Version of hosted HTML page (hosted.html) in use. This is the page that shows error traces in browser in hosted mode.</p>

<h3 id="sessionid:12347b800901b14948e615972c727567">$sessionId</h3>

<p>Used when collecting stats in hosted mode. Same value as <code>window.__gwt_SessionID</code></p>

<h3 id="stats:12347b800901b14948e615972c727567">$stats()</h3>

<p>Undocumented. Used to collect stats in hosted mode.</p>

<h3 id="entry:12347b800901b14948e615972c727567">$entry()</h3>

<p>Method that makes code reentry safe. This should wrap GWT code that will be called  from outside of GWT via Javascript calls you wish to expose from your GWT application. See docs for more.</p>

<h3 id="stack-stackdepth-location:12347b800901b14948e615972c727567">$stack, $stackDepth, $location</h3>

<p>Undocumented. Trace information used by JsStackEmulator.</p>

<h2 id="example-of-accessing-gwt-version:12347b800901b14948e615972c727567">Example of accessing GWT Version</h2>

<p>To determine the running version of a GWT application, you can use JSNI to return that version.</p>

<pre><code class="language-java">// easily get the GWT version
public static native String getGwtVersion() /*-{
    return $gwt_version;
}-*/;
</code></pre>

<p>From outside the application you can walk the DOM of the page to find the iframe containing the running GWT code and access the version like below.</p>

<pre><code class="language-javascript">var gwtVersion = null;
var frames = document.getElementsByTagName('iframe');
for (var i=0; i&lt;frames.length; i++) {
    // prevent security access errors
    try {
        if(frames[i].contentWindow.$gwt_version) {
            gwtVersion = frames[i].contentWindow.$gwt_version;
            break;
        }
    }
    catch(e) {}
}
</code></pre>

<p>This is the mechanism I used to detect GWT apps in the <a href="https://chrome.google.com/webstore/detail/library-detector/cgaocdmhkmfnkdkbnckgmpopcbpaaejo">Library Detector Chrome Extension</a> (<a href="https://github.com/twistedpair/Library-Detector-for-Chrome">Github</a>). Note the wrapping in a <code>try/catch</code>. This is because some iframes are cross domain and will throw a security exception if you try to access them.</p>

</div>

	
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'lustforge';
    var disqus_identifier = 'https:\/\/lust.dev\/2012\/11\/11\/gwt-jsni-variables-an-exhaustive-list\/';
    var disqus_title = 'GWT JSNI Variables – An Exhaustive List';
    var disqus_url = 'https:\/\/lust.dev\/2012\/11\/11\/gwt-jsni-variables-an-exhaustive-list\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>


        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
                 <a href="/tags/google-web-toolkit-gwt/">Google Web Toolkit (GWT)</a>
            
                 <a href="/tags/java/">Java</a>
            
	    <a href="/tags/">[all]</a>
        </p>
    

    <div class="share">
        <a class="icon-twitter" href="https://twitter.com/share?text=GWT%20JSNI%20Variables%20%e2%80%93%20An%20Exhaustive%20List&url=https%3a%2f%2flust.dev%2f2012%2f11%2f11%2fgwt-jsni-variables-an-exhaustive-list%2f"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
            <i class="fa fa-twitter"></i>
            <span class="hidden">Twitter</span>
        </a>

        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flust.dev%2f2012%2f11%2f11%2fgwt-jsni-variables-an-exhaustive-list%2f"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
            <i class="fa fa-facebook"></i>
            <span class="hidden">Facebook</span>
        </a>

        <a class="icon-google-plus" href="https://plus.google.com/share?url=https%3a%2f%2flust.dev%2f2012%2f11%2f11%2fgwt-jsni-variables-an-exhaustive-list%2f"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
           <i class="fa fa-google-plus"></i>
            <span class="hidden">Google+</span>
        </a>
    </div>
</footer>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="lust.dev" href="https://lust.dev/">lust.dev</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2009 - 2018 / Powered by <a href="http://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/twistedpair/ghostwriter">Lustwriter theme</a> By J. Lust</span>
                    <span>/ Forked from <a href="https://github.com/jbub/ghostwriter">Ghostwriter</a></span>
                </p>
            </div>
        </footer>

        <script src="https://lust.dev/js/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
        <script src="https://lust.dev/js/jquery.fitvids.js"></script>
        <script src="https://lust.dev/js/scripts.js"></script>
    </body>
</html>

