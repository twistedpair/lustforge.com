<!doctype html><html prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>GWT war file Size Reduction – a.k.a GWT Weightloss &#183; </title><meta name=description content="GWT is great, but the size and number of files compiled can slowly creep upward. In a large project, this can mean your war file contains thousands of unneeded files. On environments like AppEngine, where the size of your war is limited, this introduces an upper bound on the application size.
Don’t worry, you can easily slim that war down.
The Stowaways

.gwt-tmp/ - used in the compile process, we don’t need them anymore
_.junit_symbolMaps/ - used by junit, not needed in production
WEB-INF/classes/com/yourPkg/ - compiled java classes, but client runs JS


Maven to the rescue
The following line used when packaging your war using the maven-antrun-plugin does the trick, or you can just do it by hand or your scripting framework of choice."><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=generator content="Hugo 0.140.2"><meta name=robots content="index,follow"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="GWT war file Size Reduction – a.k.a GWT Weightloss"><meta property="og:description" content="GWT is great, but the size and number of files compiled can slowly creep upward. In a large project, this can mean your war file contains thousands of unneeded files. On environments like AppEngine, where the size of your war is limited, this introduces an upper bound on the application size.
Don’t worry, you can easily slim that war down.
The Stowaways

.gwt-tmp/ - used in the compile process, we don’t need them anymore
_.junit_symbolMaps/ - used by junit, not needed in production
WEB-INF/classes/com/yourPkg/ - compiled java classes, but client runs JS


Maven to the rescue
The following line used when packaging your war using the maven-antrun-plugin does the trick, or you can just do it by hand or your scripting framework of choice."><meta property="og:type" content="article"><meta property="og:url" content="https://lust.dev/2012/07/03/gwt-war-file-size-reduction-a-k-a-gwt-weightloss/"><link rel=stylesheet href=https://lust.dev/dist/site.css><link rel=stylesheet href=https://lust.dev/dist/syntax.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic"><link rel=stylesheet href=https://lust.dev//css/font-awesome-all.min.css></head><body><script async src="https://www.googletagmanager.com/gtag/js?id=G-W625CVG5Q9"></script><script>var dnt,doNotTrack=!1;if(!0&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W625CVG5Q9")}</script><div id=wrapper><header class=site-header><div class=container><div class=site-title-wrapper><h1 class=site-title><a href=https://lust.dev/>lust.dev</a></h1><a class=button-square href=https://lust.dev/index.xml aria-label=RSS><i class="fa fa-rss" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint=Bluesky aria-label=bluesky href=https://bsky.app/profile/lust.dev rel=me><i class="fa-brands fa-bluesky" aria-hidden=true></i>
</a><a class="button-square button-social hint--top" data-hint=Github aria-label=Github href=https://github.com/twistedpair rel=me><i class="fa-brands fa-github-alt" aria-hidden=true></i>
</a><a class="button-square button-social hint--top" data-hint="Stack Overflow" aria-label="Stack Overflow" href=https://stackoverflow.com/users/564157/joseph-lust rel=me><i class="fa-brands fa-stack-overflow" aria-hidden=true></i>
</a><a class="button-square button-social hint--top" data-hint=LinkedIn aria-label=LinkedIn href=https://linkedin.com/in/josephlust rel=me><i class="fa-brands fa-linkedin" aria-hidden=true></i></a></div><ul class=site-nav><li class=site-nav-item><a href=../../../../>Blog</a></li><li class=site-nav-item><a href=../../../../tags>Tags</a></li><li class=site-nav-item><a href=../../../../about>About J. Lust</a></li></ul></div></header><div id=container><div class=container><article class=post-container itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">GWT war file Size Reduction – a.k.a GWT Weightloss</h1><p class=post-date><span>Published <time datetime=2012-07-03 itemprop=datePublished>3 Jul '12</time></span>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person><span itemprop=name><a href=# itemprop=url rel=author>Joseph Lust</a></span></span></p><p class="post-reading post-line"><span>⏰ 2 min read</span></p></header><div class="post-content clearfix" itemprop=articleBody><p>GWT is great, but the size and number of files compiled can slowly creep upward. In a large project, this can mean your <code>war</code> file contains thousands of unneeded files. On environments like AppEngine, where the size of your war is limited, this introduces an upper bound on the application size.</p><p>Don’t worry, you can easily slim that war down.</p><h3 id=the-stowaways>The Stowaways</h3><ul><li><code>.gwt-tmp/</code> - used in the compile process, we don’t need them anymore</li><li><code>_.junit_symbolMaps/</code> - used by junit, not needed in production</li><li><code>WEB-INF/classes/com/yourPkg/</code> - compiled java classes, but client runs JS</li></ul><h3 id=maven-to-the-rescue>Maven to the rescue</h3><p>The following line used when packaging your war using the <strong>maven-antrun-plugin</strong> does the trick, or you can just do it by hand or your scripting framework of choice.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;plugin&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>org.apache.maven.plugins<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>maven-antrun-plugin<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.6<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;executions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;execution&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;id&gt;</span>package-configuration<span class=nt>&lt;/id&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;phase&gt;</span>generate-resources<span class=nt>&lt;/phase&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;configuration&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;tasks&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;echo</span> <span class=na>message=</span><span class=s>&#34;Copying GWT resources into WAR file&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;copy</span> <span class=na>todir=</span><span class=s>&#34;${project.build.directory}/${project.warOutputName}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;fileset</span> <span class=na>dir=</span><span class=s>&#34;../gwt/target/yourModuleName&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;exclude</span> <span class=na>name=</span><span class=s>&#34;**/.gwt-tmp/**&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;exclude</span> <span class=na>name=</span><span class=s>&#34;**/*junit_symbolMaps/**&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                             <span class=c>&lt;!-- Just want JS files, not classes, rpc --&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;exclude</span> <span class=na>name=</span><span class=s>&#34;**/WEB-INF/classes/com/yourPkg/**&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;/fileset&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;/copy&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/tasks&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/configuration&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;goals&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;goal&gt;</span>run<span class=nt>&lt;/goal&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/goals&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/execution&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/executions&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/plugin&gt;</span>
</span></span></code></pre></div><h3 id=case-study>Case Study</h3><p>On my project, we took the number of GWT <strong>files in the war from 2800 to 400</strong>. If we made better use of <a href=https://developers.google.com/web-toolkit/doc/latest/DevGuideClientBundle#CssResource>CSSResource</a>, <a href=https://developers.google.com/web-toolkit/doc/latest/DevGuideClientBundle#ImageResource>ImageResource</a>, and <a href=https://developers.google.com/web-toolkit/doc/latest/DevGuideClientBundle#DataResource>DataResource</a>, it would be more like 150 files in the war.</p><ul><li>Saved 2400 files from war file</li><li>Saved 50% on war file size</li><li>Sped up compilation by 90 seconds</li></ul></div><footer class="post-footer clearfix"><p class=post-tags><span>Tagged:</span>
<a href=../../../../tags/google-web-toolkit-gwt/>Google Web Toolkit (GWT)</a>,
<a href=../../../../tags/maven/>Maven</a></p><div class=share><a class=icon-twitter href="https://twitter.com/share?text=GWT%20war%20file%20Size%20Reduction%20%e2%80%93%20a.k.a%20GWT%20Weightloss&url=https%3a%2f%2flust.dev%2f2012%2f07%2f03%2fgwt-war-file-size-reduction-a-k-a-gwt-weightloss%2f" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' aria-label="Share on Twitter"><i class="fa fa-twitter" aria-hidden=true></i>
</a><a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flust.dev%2f2012%2f07%2f03%2fgwt-war-file-size-reduction-a-k-a-gwt-weightloss%2f" onclick='return window.open(this.href,"facebook-share","width=580,height=296"),!1' aria-label="Share on Facebook"><i class="fa fa-facebook" aria-hidden=true></i></a></div></footer><div class=comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//lustforge.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div></div></div><footer class=footer><div class=container><div class=site-title-wrapper><h1 class=site-title><a href=https://lust.dev/>lust.dev</a></h1><a class="button-square button-jump-top js-jump-top" href=# aria-label="Back to Top"><i class="fa fa-angle-up" aria-hidden=true></i></a></div><p class=footer-copyright><span>&copy; 2024 / Powered by <a href=https://gohugo.io/>Hugo</a></span></p><p class=footer-copyright><span><a href=https://github.com/roryg/ghostwriter>Ghostwriter theme</a> By <a href=http://jollygoodthemes.com>JollyGoodThemes</a></span>
<span>/ <a href=https://github.com/jbub/ghostwriter>Ported</a> to Hugo By <a href=https://github.com/jbub>jbub</a></span></p></div></footer><script src=https://lust.dev/js/jquery-1.11.3.min.js></script><script src=https://lust.dev/js/jquery.fitvids.js></script><script src=https://lust.dev/js/scripts.js></script></body></html>