---
draft: false
title: "gcloud SDK 254.0.0 Release Analysis"
author: Joe Lust
layout: post
date: 2019-07-16
url: /gcloud/gcloud-sdk-254-0-0-release-analysis/
summary: "Google Cloud SDK 254.0.0 introduces significant advancements across several services. AI Platform and Compute Engine saw major flags and resource policies promoted to General Availability, enhancing training job configuration and disk management. Cloud Pub/Sub gained beta support for controlling message storage regions, alongside important bug fixes for Firestore Emulator, Cloud Run, and Cloud Storage to improve stability and user experience."
tags:
  - gcloud
  - google-cloud-platform
  - release-analysis
  - gcp
  - ai-platform
  - bigquery
  - cloud-asset-inventory
  - cloud-pub-sub
  - compute-engine
---

Google Cloud SDK 254.0.0 introduces significant advancements across several services. AI Platform and Compute Engine saw major flags and resource policies promoted to General Availability, enhancing training job configuration and disk management. Cloud Pub/Sub gained beta support for controlling message storage regions, alongside important bug fixes for Firestore Emulator, Cloud Run, and Cloud Storage to improve stability and user experience.

**Jump to:** [Annotated Release Notes](#breaking-changes) | [Stats ðŸ“Š](#stats)

<!--more-->

## Breaking Changes

- Removed JSON formatting requirement for `bq ls --print_last_token`, meaning the command no longer outputs in JSON format, which may impact existing scripts.

## New Features by Service

### AI Platform

- Promoted several flags for `gcloud ai-platform jobs submit training` to GA, enabling configuration of training VMs and deployment of custom containers.
  - Flags: `--master-machine-type`, `--master-accelerator`, `--master-image-uri`, `--worker-count`, `--worker-machine-type`, `--worker-accelerator`, `--worker-image-uri`, `--parameter-server-count`, `--parameter-server-machine-type`, `--parameter-server-accelerator`, `--parameter-server-image-uri`

### BigQuery

- Added support for dataset default KMS key.

### Cloud Asset Inventory

- Added `--output-path-prefix` flag to `gcloud asset export`.
  - Flags: `--output-path-prefix`
- Added new content type `org-policy` to `gcloud asset export` and `gcloud asset get-history`.

### Cloud Pub/Sub

- Promoted `--message-storage-policy-allowed-regions` flag of `gcloud pubsub topics create` to beta, allowing control over Cloud regions where published messages are stored at rest.
  - Flags: `--message-storage-policy-allowed-regions`
- Promoted `--recompute-message-storage-policy` and `--message-storage-policy-allowed-regions` flags of `gcloud pubsub topics update` to beta, allowing control over Cloud regions where published messages are stored at rest.
  - Flags: `--recompute-message-storage-policy`, `--message-storage-policy-allowed-regions`

### Compute Engine

- Added `disk-resource-policy` option to `--create-disk` flag in `gcloud beta compute instance-templates create`.
  - Flags: `--create-disk`
- Promoted `gcloud compute resource-policies` to GA.
- Promoted resource policies in `gcloud compute disks` to GA.

## API Changes

### Cloud Firestore Emulator

- Fixed bug where `ClearData` would fail for databases with more than 500 documents in Cloud Firestore emulator v1.6.1.
- Fixed bug where Firestore queries with cursors had incorrect boundary behavior in Cloud Firestore emulator v1.6.2.

### Cloud Run

- Fixed bug causing unnecessary API enablement prompt when working with Cloud SQL instances.

### Cloud Storage

- Updated `gsutil` component to 4.40.

### Compute Engine

- Fixed bug where `gcloud compute images export` would create temporary Cloud Storage bucket in US multi-region when destination file is in a different region.

### Firebase Test Lab

- Fixed a possible crash when invalid iOS device dimensions are specified for a test run.

## Stats

- Files changed: {{< color "#fff" "#b45309" >}}257{{< /color >}}
- Inserted lines: {{< color "#fff" "#166534" >}}+17,550{{< /color >}}
- Deleted lines: {{< color "#fff" "#991b1b" >}}-5,083{{< /color >}}

---
*Generated by [Gemini](https://ai.google.dev/)*
*- [View full diff](https://github.com/twistedpair/google-cloud-sdk/compare/253.0.0...254.0.0)*

*Google, Google Cloud, and gcloud are trademarks of Google LLC. This analysis was automatically generated by an AI agent examining only public release artifacts, without access to internal or non-public information from Google Cloud.*