---
draft: false
title: "gcloud SDK 240.0.0 Release Analysis"
author: Joe Lust
layout: post
date: 2019-03-26
url: /gcloud/gcloud-sdk-240-0-0-release-analysis/
summary: "Google Cloud SDK 240.0.0 introduces a breaking change by enabling Kubernetes Engine node auto-upgrade by default for new clusters and node-pools. Key new features include the `--impersonate-service-account` flag for `gcloud`, new commands for submitting Presto jobs to Cloud Dataproc, and expanded support for Compute Engine external and HA VPN gateways. Additionally, several features and flags across Cloud DNS, Compute Engine, and Kubernetes Engine have been promoted to Beta or GA stability."
tags:
  - gcloud
  - google-cloud-platform
  - release-analysis
  - gcp
  - cloud-sdk
  - app-engine
  - cloud-dataproc
  - compute-engine
  - identity-and-access-management
  - kubernetes-engine
---

Google Cloud SDK 240.0.0 introduces a breaking change by enabling Kubernetes Engine node auto-upgrade by default for new clusters and node-pools. Key new features include the `--impersonate-service-account` flag for `gcloud`, new commands for submitting Presto jobs to Cloud Dataproc, and expanded support for Compute Engine external and HA VPN gateways. Additionally, several features and flags across Cloud DNS, Compute Engine, and Kubernetes Engine have been promoted to Beta or GA stability.

**Jump to:** [Annotated Release Notes](#breaking-changes) | [Stats ðŸ“Š](#stats)

<!--more-->

## Breaking Changes

- Node auto-upgrade is now enabled by default for clusters and node-pools created with `gcloud beta container clusters create` and `gcloud beta container node-pools create`. To disable manually, use the `--no-enable-autoupgrade` flag.

## New Features by Service

### Cloud SDK

- Added the `--impersonate-service-account` flag to `gcloud` for service account impersonation.
  - Flags: `--impersonate-service-account`

### App Engine

- Removed the 32MB file size limit for second generation runtimes, allowing larger files to be deployed.

### Cloud Dataproc

- Added commands `gcloud beta dataproc jobs submit presto` and `gcloud beta dataproc workflow-templates add-job presto` to enable submitting Presto jobs to Dataproc clusters and adding Presto jobs to workflow templates.
- Added the `--enable-component-gateway` flag to `gcloud beta dataproc clusters create` and `gcloud beta dataproc workflow-templates set-managed-cluster`.
  - Flags: `--enable-component-gateway`

### Compute Engine

- Added the `gcloud beta compute external-vpn-gateway` command group to enable reading and manipulating Compute Engine external VPN gateways.
- Added the `gcloud beta compute vpn-gateway` command group to enable reading and manipulating Compute Engine VPN gateways.
- Updated the `gcloud beta compute vpn-tunnel` command to enable the creation of HA VPN tunnels.

### Identity and Access Management

- Added a new `DISABLED` column to the return table of `gcloud iam service-account list`, displaying the state of listed service accounts.

### Kubernetes Engine

- Added the `--release-channel` flag to `gcloud alpha container clusters create` for subscribing a cluster to a release channel.
  - Flags: `--release-channel`

## Credential & Auth Changes

- Added the `--impersonate-service-account` flag to `gcloud`, allowing users to impersonate a service account.

## API Changes

### Cloud DNS

- Private zones of the `gcloud dns managed-zones` command group have been promoted to GA. The `--visibility` and `--networks` flags are now part of the GA feature set for configuring zone visibility.

### Compute Engine

- Promoted `--failover-ratio`, `--drop-traffic-if-unhealthy`, and `--connection-drain-on-failover` flags of `gcloud compute backend-services create` and `gcloud compute backend-services update` to beta.
- Promoted the `--failover` flag of `gcloud compute backend-services add_backend` and `gcloud compute backend-services update_backend` to beta.
- Promoted the `gcloud compute instance-groups managed wait-until` command to beta.
- Promoted the `--region` flag of `gcloud compute disks` and related commands to GA.

### Kubernetes Engine

- Promoted the `--default-max-pods-per-node` flag of `gcloud container clusters create` from Beta to GA.
- Promoted the `--max-pods-per-node` flag of `gcloud container node-pools create` from Beta to GA.

## Stats

- Files changed: {{< color "#fff" "#b45309" >}}180{{< /color >}}
- Inserted lines: {{< color "#fff" "#166534" >}}+13,509{{< /color >}}
- Deleted lines: {{< color "#fff" "#991b1b" >}}-1,004{{< /color >}}

---
*Generated by [Gemini](https://ai.google.dev/)*
*- [View full diff](https://github.com/twistedpair/google-cloud-sdk/compare/239.0.0...240.0.0)*

*Google, Google Cloud, and gcloud are trademarks of Google LLC. This analysis was automatically generated by an AI agent examining only public release artifacts, without access to internal or non-public information from Google Cloud.*