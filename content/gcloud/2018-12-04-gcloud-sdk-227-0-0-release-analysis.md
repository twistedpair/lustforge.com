---
draft: false
title: "gcloud SDK 227.0.0 Release Analysis"
author: Joe Lust
layout: post
date: 2018-12-04
url: /gcloud/gcloud-sdk-227-0-0-release-analysis/
summary: "Version 227.0.0 of the Google Cloud SDK introduces several breaking changes, notably the removal of deprecated `gcloud datastore` and `gcloud container builds` commands, and old Cloud IoT flags. This release focuses heavily on promoting various `gcloud` commands and flags to GA or beta across services like Cloud Functions, IoT, Spanner, and Compute Engine, while also adding new Bigtable filtering options and SparkR job support for Dataproc."
tags:
  - gcloud
  - google-cloud-platform
  - release-analysis
  - gcp
  - cloud-sdk
  - cloud-bigtable
  - cloud-dns
  - cloud-dataproc
  - cloud-functions
  - cloud-iot
  - cloud-pub-sub
  - cloud-spanner
  - compute-engine
  - kubernetes-engine
---

Version 227.0.0 of the Google Cloud SDK introduces several breaking changes, notably the removal of deprecated `gcloud datastore` and `gcloud container builds` commands, and old Cloud IoT flags. This release focuses heavily on promoting various `gcloud` commands and flags to GA or beta across services like Cloud Functions, IoT, Spanner, and Compute Engine, while also adding new Bigtable filtering options and SparkR job support for Dataproc.

**Jump to:** [Annotated Release Notes](#breaking-changes) | [Stats ðŸ“Š](#stats)

<!--more-->

## Breaking Changes

- Removed `gcloud datastore create-indexes` and `gcloud datastore cleanup-indexes`. Users should now use `gcloud datastore indexes create` and `gcloud datastore indexes cleanup`.
- Removed deprecated `-event-pubsub-topic` and `--pubsub-topic` flags from `gcloud iot registries create` and `gcloud iot registries update` commands.
- Removed the `gcloud container builds` command group. Users should now use `gcloud builds` instead.

## New Features by Service

### Cloud SDK

- Invalid commands (wrongly ordered, partial) now prompt more robust suggestions instead of the regular usage text.

### Cloud Bigtable

- Added support for arbitrary bytes in regex filters.
- Added support for `row_sample_filter`.
- Added support for `apply_label_transformer`.

### Cloud DNS

- Added the `--forwarding-targets` flag to `gcloud beta dns managed-zones create` and `gcloud beta dns managed-zones update`.
  - Flags: `--forwarding-targets`

### Cloud Dataproc

- Added `gcloud beta dataproc jobs submit sparkr` to enable submitting SparkR jobs to a Dataproc cluster.
- Promoted `--num-preemptible-worker-local-ssds` flag of `gcloud dataproc clusters create` to GA.
  - Flags: `--num-preemptible-worker-local-ssds`

### Cloud Functions

- Promoted `--service-account` flag of `gcloud functions deploy` to beta.
  - Flags: `--service-account`
- Promoted `--set-env-vars`, `--update-env-vars`, `--remove-env-vars`, `--clear-env-vars`, and `--env-vars-file` environment variable flags of `gcloud functions deploy` to GA.
  - Flags: `--set-env-vars`, `--update-env-vars`, `--remove-env-vars`, `--clear-env-vars`, `--env-vars-file`

### Cloud IoT

- Promoted `gcloud iot devices commands send` command group to GA.
- Promoted `--log-level` flag of `gcloud iot devices` and `gcloud iot registries` to GA.
  - Flags: `--log-level`
- Promoted `gcloud iot devices gateways` command group to beta.

### Cloud Pub/Sub

- Added support for defining an expiration period for a subscription to `gcloud beta pubsub subscriptions`.

### Cloud Spanner

- Promoted `gcloud spanner rows` command group to GA.

### Compute Engine

- Added `--use-serving-port` flag to `gcloud beta compute health-checks update`.
  - Flags: `--use-serving-port`
- Added `--container-mount-disk` flag to `gcloud beta compute instance-templates create-with-container`.
  - Flags: `--container-mount-disk`
- Promoted `gcloud compute security-policies` and `gcloud compute security-policies rules` command groups to GA.
- Promoted `--security-policy` flag of `gcloud compute backend-services update` to GA.
  - Flags: `--security-policy`

### Kubernetes Engine

- Promoted resource usage export to beta, enabled using `--resource-usage-bigquery-dataset` with `gcloud beta container clusters create` or `gcloud beta container clusters update`.
  - Flags: `--resource-usage-bigquery-dataset`

## API Changes

### App Engine

- Updated the Java SDK to version 1.9.69.

## Stats

- Files changed: {{< color "#fff" "#b45309" >}}172{{< /color >}}
- Inserted lines: {{< color "#fff" "#166534" >}}+23,697{{< /color >}}
- Deleted lines: {{< color "#fff" "#991b1b" >}}-3,049{{< /color >}}

---
*Generated by [Gemini](https://ai.google.dev/)*
*- [View full diff](https://github.com/twistedpair/google-cloud-sdk/compare/226.0.0...227.0.0)*

*Google, Google Cloud, and gcloud are trademarks of Google LLC. This analysis was automatically generated by an AI agent examining only public release artifacts, without access to internal or non-public information from Google Cloud.*